# Запрещаем
**1) Запретите пользователю user1 из предыдщуего задания выполнять вход в систему.**

![image](https://github.com/user-attachments/assets/b45978d4-5446-4a84-9ae2-89bb1dd2c1ce)

**2) Как вы это сделали?**

Запрет на вход в систему полльзователю через passwd:

```sh
passwd -l [user]
```

Разблокировать:

```sh
passwd -u [user]
```

**3) Какие ещё способы это сделать вы знаете?**

- Через редактирование файла /etc/shadow. Если поставить любой знак в хэшированном пароле, то он станет недействительным.

Пример:
```
user1:!$6$vpNJ3oFe$5GSh2aU2BDcpdjvQeNFzh0zTgyRUl26x4dn77mFE/vaoXwd19m7okX44jO8TWaVqNRL8vUVTAcZVmgUT8dR.4.:15953:0:99999:7:::
```

- Через usermod:

```sh
usermod -L user1
```

```
-L, --lock – заблокировать пароль пользователя. Эта опция помещает символ ! (восклицательный знак) перед паролем в зашифрованном виде, отключая его. Данную опцию нельзя использовать с -p и -U.
-U, --unlock – разблокировать пароль пользователя. Данная опция убирает символ ! (восклицательный знак) перед паролем в зашифрованном виде, разрешая использовать его для входа. Не сработает с -p и -L.
```

- Заблокировать доступ вообще всем пользователям, кроме Root:

```sh
touch /etc/nologin
```

**4) Можно ли создать пользователей с одинаковыми username?**

Файл /etc/passwd хранит уникальные записи username у пользователей, это ограничение встроено в инструменты useradd и adduser. Поэтому создавать пользователей с одинаковым username нельзя.
