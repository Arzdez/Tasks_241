# Файловые системы

1) Какие файловые системы вы знаете?

- FAT (12, 16, 32) - стандарт, который устанавливается на большинстве сменных носителей по умолчанию. Цифры обозначают количество бит, используемых для перечисления блока ФС.
- NTFS - появился в 1995 году и является основной ФС Windows. Разработан с целью устранения недостатков FAT.

2) Как можно классифицировать файловые системы? В чём отличия?

Журналируемые и не журналируемые

- Журналируемые - сохраняет историю действий пользователей, позволяет ее смотреть, а также хранит план проверки системы в спец. файле. Из особенностей выделяется устойчивость к сбоям и сохранение целостности информации.

- Не журналируемые - без логов, работают быстрее, но не гарантируют сохранность данных.

Основные, специальные и виртуальные

- Основные - каждый дистрибутив позволяет выбрать одну из ФС в качестве основной корневой системы.
- Специальные - ядро Linux использует спец. ФС для предоставления доступа пользователям и программам к своим настройкам и информации. Наиболее часто используются: tmpfs - размещение файлов в оперативной памяти, procfs - информация о процессах и самом ядре, sysfs - задача различных настроек ядра во время выполнения.
- Виртуальные - ФС, которая реализуется в пространстве пользователя. Примеры: EncFS - шифрование файлов в нужную директорию, Aufs - объединение нескольких ФС в одну общую, NFS - ФС удаленного компьютера по сети.

3) Какие файловые системы используются в linux?

Список основных файловых систем:

- Ext - одна из первых ФС, запущена в 1992 году;
- Ext2 - максимально допустимый объем файлов для хранения - 2 ТБ;
- Ext3 - начало журналируемой ФС, позволяет восстановить файлы с помощью спец. алгоритма;
- Ext4 - максимально убраны всевозможные ограничения, входим по умолчанию в большую часть дистрибутивов Linux. Объем увеличен до 1 эксабайта;
- XFS - журналируемая, быстрая, способна выделять место для хранения в отложенном режиме, увеличивать размеры раздела, но уменьшать и удалять разделы нельзя. Риск потери данных при отключении электроэнергии;
- Btrfs - повышенная отказоустойчивость и высокая производительность, размеры разделов можно менять в рабочем процессе.

Ext2/3/4 - стандарт для Linux, редко обновляются, но зато стабильны.

4) Как можно создать файловую систему на диске?

```sh
mkfs -t [тип] [устройство]
```

Найти устройство можно по пути /dev/

*Флаги:*

```
-с - проверить устройство на наличие битых секторов
-b - размер блока файловой системы
-j - использовать журналирование для ext3
-L - задать метку раздела
-v - показать подробную информацию о процессе работы
-V - версия программы
```

5) Как можно подключить диск в систему, что такое монтирование?

Фактически разделы диска становятся частью корневой файловой системы. Если примонтировать что-либо, то сможем работать с этим устройством в файловом менеджере точно так же, как и с локальным диском. Система определяет ФС устройства, а затем с помощью драйверов ядра подключает его к указанной папке.

Иными словами, **монтирование** - это процесс привязки запоминающего устройства к определенному местоположению в дереве каталогов.

Монтирование устройства:
```sh
mount [файл устройства в /dev/] [папка назначения]
```
Размонтирование устройства:
```sh
umount [папка устройства]
```

6) Файловая система procfs, cifs, tpmfs, sysfs. В чём особенности каждой из них? Вывести каталоги к которым примонтированы эти файловые системы.

procfs:
ФС procfs предоставляет моментальный снимок состояния ядра и процессов, которые оно контролирует в пространстве пользователя. В /proc ядро выводит информацию о том, какими средствами оно располагает, например, прерывания, виртуальная память и планировщик. А ещё в /proc/sys размещены параметры, которые можно настроить из пространства пользователя с помощью команды sysctl. Состояние и статистика по каждому процессу находятся в директориях /proc/[id процесса].

cifs (VFS):
VFS — это «слой оболочки» между системными вызовами и реализациями определенных file_operations, таких как ext4 и procfs. Функции file_operations могут взаимодействовать либо с драйверами устройств, либо с устройствами доступа к памяти.

tmpfs:
Файлы из /tmp временные, а постоянные хранилища намного медленнее памяти, где находится tmpfs. Нужна для размещения пользовательских файлов непосредственно в оперативной памяти ПК. Предполагает создание блочного узла определенного размера с последующим подключением к папке. При необходимости данные можно будет удалять.

sysfs:
Это псевдофайловая система, предоставляющая интерфейс к структурам данных ядра (точнее, файлы и каталоги в sysfs позволяют видеть структуры kobject, определённые внутри ядра). Файлы в sysfs показывают информацию об устройствах, модулях ядра, файловых системах и других компонентах ядра.

Вывод каталогов, к которым примонтированы ФС:

```sh
findmnt -t [ФС]
```

![image_2024-11-14_20-06-16](https://github.com/user-attachments/assets/39f07b92-dfa5-4993-bc81-3191f08ae0be)

7) Как можно получить информацию о системе, используя лишь команду cat? Вывести информацию о процессоре и состоянии памяти системы.

Сведения о процессоре:
```sh
cat /proc/cpuinfo
```
Сведения об оперативной памяти:
```sh
cat /proc/meminfo
```

![image](https://github.com/user-attachments/assets/d34e8013-e48f-47b1-b236-9fd50e69d47d)
