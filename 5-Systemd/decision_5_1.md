# Юниты

## 1. Что такое systemd юнит?

**Init** – Это первый и единственный процесс который запускает ядро переводя систему в пользовательский режим. Все остальные процессы являются потомками процесса init.

**Systemd** - вариант init(Вариант системы инициализации)

**Systemd юнит** — это конфигурационный файл, который systemd использует для управления процессами, сервисами и другими компонентами системы.

2. Проверье статус любого systemd юнита, какую информацию выводит эта кманда?

```bash
systemctl status smb
```
<div style="text-align: center;">
  <img src="Screnshoots\screen1.png" alt="Мой скриншот" />
</div>

**Информация о службе Samba SMB Daemon (`smb.service`)**

###  1. Основная информация
- **Имя службы:** `smb.service`
- **Описание:** Samba SMB Daemon

### 2. Статус загрузки
- **Loaded:** Загружена из файла конфигурации `/lib/systemd/system/smb.service`.
- **Автозагрузка:** `enabled` (служба настроена на автоматический запуск при старте системы).

### 3. Активность
- **Active:** Активна и работает (статус `running`).
- **Время запуска:** `2024-12-04 21:09:03`.

### 4. Документация
- [man:smbd(8)](man:smbd(8)) — справочник по демону `smbd`.
- [man:samba(7)](man:samba(7)) — справочник по пакету Samba.
- [man:smb.conf(5)](man:smb.conf(5)) — справочник по конфигурационному файлу Samba.

### 5. Основной процесс
- **Main PID:** `3646` (выполняет `smbd`).
- **Status:** `"smbd: ready to serve connections..."`.

### 6. Ресурсы
- **Tasks:** 3 (из лимита 9498).
- **Memory:** 6.9 MB.
- **CPU:** 37 ms.

### 7. Контрольная группа (Механизм отслеживания использования ресурсов)
- **CGroup:** `/system.slice/smb.service`.


### 8. Логи

- `дек 04 21:09:03 host-15 systemd[1]: Starting Samba SMB Daemon...`
- `дек 04 21:09:03 host-15 smbd[3646]: smbd version 4.19.9-alt1 started.`
- `дек 04 21:09:03 host-15 smbd[3646]: Copyright Andrew Tridgell and the Samba Team 1992-2023.`
- `дек 04 21:09:03 host-15 systemd[1]: Started Samba SMB Daemon.`


## 3. ПОпробуйте оставновить сервис.

```bash
sudo systemctl stop smb # Active : Inactive(dead)
```
<div style="text-align: center;">
  <img src="Screnshoots\screen2.png" alt="Мой скриншот" />
</div>


## 4. Перезапустите его.
```bash
sudo systemctl restart smb # Перезапуск
```


5. УДалите из автозагрузки
```bash
sudo systemctl disable smb
sudo systemctl is-enabled smb # Проверка на автозагрузку
```

6. Верните обратно
```bash
sudo systemctl enable smb
```

<div style="text-align: center;">
  <img src="Screnshoots\screen3.png" alt="Мой скриншот" />
</div>



## 7. Что такое таймеры?

- **Timer** — активация других единиц по таймеру, предоставляет функционал, похожий на сron(Запускатор чего-либо в определённый промежуток веремени т.е по таймеру).

- Таймеры в **systemd** — это механизм для автоматического запуска сервисов по расписанию или после определённых событий. Таймеры работают аналогично cron, но позволяют интегрировать расписания с другими частями системы, например, с юнитами или сервисами systemd.


**Cron** — это инструмент для планирования задач, который позволяет запускать команды или скрипты в определённое время или через заданные интервалы.

**Cron** использует **crontab** — файл конфигурации, где указывается, когда и какие команды нужно запускать.