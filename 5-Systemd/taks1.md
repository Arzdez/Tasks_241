# Юниты

**1) Что такое systemd юнит?**

init – Это первый и единственный процесс который запускает ядро, переводя систему в пользовательский режим. Все остальные процессы являются потомками процесса init. init имеет идентификатор процесса PID единицу.

В его обязанности входит достаточно много вещей, в частности:

- Запуск других программ;
- Проверка и монтирование ФС;
- Запуск демонов, оболочек пользователей и т. д.

Systemd - это новая система инициализации Linux. Она была введена по умолчанию в Fedora 15, а сейчас используется почти во всех популярных Linux дистрибутивах. Основная цель - иметь полный контроль над всеми процессами во время их запуска и на протяжении всего выполнения. Systemd очень сильно отличается от всех существующих систем инициализации, тем как она работает с сервисами, и даже конфигурационными файлами сервисов.

В ее основе лежит понятие  units, которые связаны между собой и имеют определенное имя и тип с соответствующими конфигурационными файлами. То есть это файлы конфигурации, хранящие информацию о сервисе, сокете, устройстве и т. д. Каждая единица может требовать другие единицы, конфликтовать с ними, запускаться до (After) или после (Before) определенной единицы.

**2) Проверьте статус любого systemd юнита, какую информацию выводит эта команда?**

```sh
systemctl status [unit]
```

![image](https://github.com/user-attachments/assets/437c4ae9-38c2-4897-8d18-60a8f6574960)

*Можно узнать:*

- Текущее состояние процесса (active - активен, inactive - неактивен, failed - ошибка запуска).
![image](https://github.com/user-attachments/assets/10ba7d49-a668-4805-8f6b-537140daa218)
- Статистика по использованию памяти, количеству запущенных процессов, PID основного процесса.
- URL с документацией юнита.

**3) Попробуйте остановить сервис.**

```sh
systemctl stop [unit]
```

**4) Перезапустите его.**

```sh
systemctl restart [unit]
```

**5) Удалите из автозагрузки.**

```sh
systemctl disable [unit]
```

**6) Верните обратно.**

```sh
systemctl enable [unit]
```

**7) Что такое таймеры?**

Выше было рассмотрен автозапуск юнитов, таймеры делают то же самое, но в определенное время, которое можно настроить.

Таймеры systemd — файлы юнитов с суффиксом .timer. Они хранятся в тех же каталогах, что и другие файлы настроек юнитов, но включают в себя раздел [Timer], который определяет, как и когда таймер запускается.

Существует два типа таймеров:

- Таймеры реального времени (также известные как настенные часы) запускаются в зависимости от событий календаря (как cronjobs). Для определения таких таймеров используется опция OnCalendar=.
- Монотонные таймеры активируются после определенного промежутка времени по отношению к той или иной отправной точке. Они не сработают, если компьютер находится в режиме ожидания или выключен. Есть несколько различных монотонных таймеров, но все они имеют вид: OnTypeSec=. Обычно монотонные таймеры включают в себя OnBootSec и OnUnitActiveSec.
