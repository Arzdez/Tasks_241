# Шарим

**1) Установите пакет samba**

Установка:

```
apt-get install samba
```

Проверка работы:

```sh
systemctl status samba
```

![image](https://github.com/user-attachments/assets/3998288a-b412-4554-8a10-e12fbe6d7335)

**2) Что такое общая папка, зачем оно может быть нужно?**

С помощью samba можно делать общие сетевые папки, чтобы другой компьютер или несколько компьютеров могли обмениваться между собой файлами. Можно создавать или подключаться к сетевым папкам по протоколу. Физически сетевая папка находится на одном из компьютеров и для этого компьютера представляет собой обычную локальную папку.

Зачем это может быть нужно:

- Обмен файлами между устройствами по сети.
- Организация коллективной работы с разными правами доступа.
- Хранение общих данных.

**3) Создайте общую папку без пароля с правами только на чтение файлов**

```sh
mkdir -p /srv/samba/public
chmod 744 /srv/samba/public
```

Редактирование конфига /etc/samba/smb.conf:

```sh
[public]
path = /srv/samba/public
browseable = yes
read only = yes
guest ok = yes
```

*Параметры:*

- path - путь к папке, которую нужно расшарить;
- browsable - будет ли папка отображаться в списке доступных шар;
- writable - будет ли папка доступна для записи;
- read only - папка доступна только для чтения;
- guest ok, public - будет ли разрешен гостевой доступ;
- only guest - если установлено yes, то папка будет доступна только гостям;
- hosts allow - ip адреса, с которых можно получить доступ к этому серверу;
- valid users - по умолчанию могут авторизоваться все пользователи, если в этом параметре передать список пользователей, то авторизоваться смогут только они;
- create mask - маска прав для создаваемых файлов.

Перезапуск samba:

```sh
systemctl restart samba
```

![image](https://github.com/user-attachments/assets/338f2c68-c7d9-453d-9f9a-fecf97cdb867)


**4) Создайте общую папку с паролем с правами на чтение и запись**

```sh
mkdir -p /srv/samba/secured
chmod 766 /srv/samba/secured
```

Примечание: в Samba пароль привязывается к пользователю, поэтому без отдельного пользователя задать пароль папке нельзя.

Задаем пароль для подключения к папке:

```sh
sudo smbpasswd -a [пользователь]
```

Редактирование конфига /etc/samba/smb.conf:

```sh
[secured]
path = /srv/samba/secured
read only = no
valid users = [пользователь]
```

Перезапуск samba:

```sh
systemctl restart smbd
```

**5) Создайте общую папку с доступом для какой-то группы с полными правами**



**6) Создайте общую папку, в которой у одной группы будет полный доступ, а у другой только доступ на чтение. Третья группа не должна иметь к ней доступа**

