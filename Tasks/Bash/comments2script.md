# Комментарии к script.sh
## 1. Функция для проверки выполнения скрипта с правами суперпользователя.
```bash
if [[ $EUID -ne 0 ]]; then
```
**Объяснение:**

Конструкции условия:
```bash
if [[ условие ]]; then
    # Действия
fi
```
```bash
if [ условие ]; then
    # Действия
fi
```
```bash
if test условие; then
    # Действия
fi
```
Это всё условные конструкции, но они имеют небольшие отличия ([] это синоним test, то есть при использовании [] bash вызывает test).
1. `[[...]]`
Поддерживает регулярные выражения, логические операторы `&&` и `||` внутри условного выражения. Меньше вероятность ошибок в пробелах и кавычках и не требует экранирования символов некоторых.
2. `[...]`
Не поддерживает регулярные выражения, Чувствителен к пробелам и кавычкам.

$EUID - переменная окружения, которая содержит индентификатор текущего пользователя.

## 2. Функция для вывода содержимого /etc/fstab.
```bash
cat /etc/fstab
```
Показывает текущие настройки файловых систем и точек монтирования.

## 3. Функция для инструкции по добавлению диска вручную.
```bash
read -p "Нажмите Enter после добавления диска..."
```
Ждет пока пользователь нажмет на Enter для продолжения.

## 4. Функция для отображения информации о блочных устройствах.
```bash
lsblk
```
Показывает текущие блочные устройства и их разделы.

## 5. Функция для создания разделов и файловой системы на новом диске.
```bash
echo "4. Создание таблицы разделов и файловой системы ext4 на $NEW_DISK"
```
$NEW_DISK инициализируется в функции main:
```bash
NEW_DISK="/dev/sdb"
```
## 6. Обновление таблицы разделов.
```bash
partprobe "$NEW_DISK"
```
Команда `partprobe` уведомляет ядро об изменениях в разделах диска, так как была создана таблица разделов на $NEW_DISK.
## 7. Получение UUID раздела.
```bash
UUID=$(blkid -s UUID -o value "$PARTITION")
```
UUID - уникальный идентификатор раздела $PARTITION.
## 8. Резервное копирование /etc/fstab.
```bash
cp /etc/fstab /etc/fstab.bak
```
Резервное копирование, чтобы можно было восстановить fstab в случае ошибки.
## 9. Добавление записи в /etc/fstab.
```bash
echo "UUID=$UUID /mnt ext4 defaults 0 2" » /etc/fstab
```
Настройка автоматического монтирования нового диска при загрузке системы.
## 10. Функция для проверки корректности записей в /etc/fstab
```bash
mount -a
```
Монтирует все файловые системы, указанные в `/etc/fstab`.
```bash
mountpoint -q /mnt
```
Проверяет, смонтирован ли /mnt.
