# Продолжаем
## 1. Raid массивы, что такое и какие бывают?
`RAID (Redundant Array of Independent Disks)` — технология объединения нескольких физических дисков в единый логический массив для повышения производительности, надежности или обоих этих показателей.
## 2. Добавьте в виртуальную машину 2 диска отформатируйте их в ext4.
```bash
mkfs.ext4 /dev/sdb
```
```bash
mkfs.ext4 /dev/sdc
```
## 3. Создайте из них RAID0 массив.
```bash
mdadm --create --verbose /dev/md0 --level=0 --raid-devices=2 /dev/sdc /dev/sdd
```
```bash
sudo mdadm --detail --scan | sudo tee -a /etc/mdadm.conf
```
## 4. Проверьте всё ли работает.
```bash
cat /proc/mdstat
```
![](https://github.com/LunisLinus/alt_linux_sonya/blob/sonya_tasks/file_systems_3_4/Tasks/File%20systems/images/Screenshot%202024-11-21%20210417.png)
## 5. Удалите RAID0 и создайте RAID1.
```bash
sudo mdadm --stop /dev/md0
```
```bash
sudo mdadm --remove /dev/md0
```
```bash
sudo mdadm --create --verbose /dev/md0 --level=1 --raid-devices=2 /dev/sdс /dev/sdd
```
```bash
sudo mdadm --detail --scan | sudo tee -a /etc/mdadm.conf
```
```bash
cat /proc/mdstat
```
![](https://github.com/LunisLinus/alt_linux_sonya/blob/sonya_tasks/file_systems_3_4/Tasks/File%20systems/images/Screenshot%202024-11-21%20211131.png)
## 6. В чем разница между RAID0 и RAID1?
| Характеристика          | RAID0                                                   | RAID1                                                           |
|-------------------------|---------------------------------------------------------|-----------------------------------------------------------------|
| **Уровень RAID**        | 0                                                       | 1                                                               |
| **Описание**            | Разделение данных (striping) без избыточности           | Зеркалирование данных                                           |
| **Количество дисков**   | Минимум 2                                               | Минимум 2                                                       |
| **Производительность**  | Высокая скорость чтения и записи                        | Высокая скорость чтения, запись может быть медленной            |
| **Надежность**          | Нет избыточности, потеря одного диска = потеря всех данных | Высокая надежность, данные дублируются на каждом диске          |
| **Использование пространства** | Сумма всех дисков                                     | Только половина общей емкости                                   |
| **Применение**          | Ситуации, требующие высокой скорости, без критичности данных | Ситуации, требующие высокой надежности хранения данных           |
## 7. Есть ли файловые системы, которые поддерживают RAID массивы без стороннего ПО?
Да, существуют файловые системы, которые имеют встроенную поддержку RAID или подобной функциональности, что позволяет создавать массивы без использования отдельного программного обеспечения для управления RAID.

### Примеры таких файловых систем:

#### **Btrfs**

- **Описание:** Современная файловая система с поддержкой встроенного RAID.
- **Возможности:** Позволяет создавать RAID0, RAID1, RAID10, RAID5 и RAID6 непосредственно на уровне файловой системы.
- **Преимущества:**
  - Интеграция управления RAID с функциональностью файловой системы, таких как снимки (snapshots) и самовосстановление данных.
- **Пример создания RAID1 в Btrfs:**

    ```bash
    mkfs.btrfs -m raid1 -d raid1 /dev/sdc /dev/sdd
    ```

#### **ZFS**

- **Описание:** Высокопроизводительная файловая система с расширенными возможностями управления данными.
- **Возможности:** Поддерживает различные уровни избыточности, включая RAID-Z (аналог RAID5 и RAID6).
- **Преимущества:**
  - Мощные функции контроля целостности данных, самовосстановление, управление пулами хранения.
- **Пример создания ZFS пула с зеркалированием (RAID1):**

    ```bash
    zpool create mypool mirror /dev/sdc /dev/sdd
    ```

### Преимущества использования встроенных возможностей файловых систем:

- **Упрощенное управление:** Нет необходимости в дополнительном ПО для управления RAID.
- **Интеграция с функциональностью файловой системы:** Например, возможность создания снимков, проверки целостности данных и т.д.
- **Повышенная надежность:** Некоторые файловые системы, такие как ZFS, предлагают расширенные механизмы защиты данных.

### Недостатки:

- **Совместимость:** Не все файловые системы с встроенным RAID широко поддерживаются или протестированы в разных дистрибутивах.
- **Сложность:** Настройка и управление могут быть сложнее по сравнению с традиционным `mdadm` RAID.
## 8. Можно ли создать RAID массив во время установки системы?
Да, можно создавать RAID массивы во время установки системы. Это особенно удобно для настройки корневого раздела с RAID для повышения надежности или производительности.
