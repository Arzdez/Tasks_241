# Ключики
## 1. Что такое ssh ключи и зачем они нужны?
### SSH-ключи: Что Это и Зачем Они Нужны

**SSH-ключи** представляют собой пару криптографических ключей: **приватный** и **публичный**.

### Компоненты SSH-ключей

- **Приватный ключ**
  - Хранится на вашем локальном компьютере.
  - Должен быть защищён от доступа посторонних.
  
- **Публичный ключ**
  - Размещается на сервере, к которому вы хотите подключаться.
  
### Преимущества использования SSH-ключей

1. **Безопасность**
   - SSH-ключи значительно сложнее подбить по сравнению с паролями.
   - Предотвращают атаки методом подбора пароля (brute-force).

2. **Удобство**
   - Нет необходимости вводить пароль при каждом подключении.
   - Позволяет быстро и безопасно подключаться к серверам.

3. **Автоматизация**
   - Возможность использовать ключи для автоматических задач и скриптов без вмешательства пользователя.
   - Идеально подходит для CI/CD процессов и автоматизированных развертываний.

### Как работают SSH-ключи

1. **Генерация пары ключей**
   - Пользователь создаёт пару ключей (приватный и публичный) на своём локальном компьютере.

2. **Размещение публичного ключа на сервере**
   - Публичный ключ добавляется в файл `~/.ssh/authorized_keys` на сервере.

3. **Аутентификация**
   - При подключении сервер использует публичный ключ для проверки соответствия приватному ключу.
   - Если проверка проходит успешно, доступ предоставляется без запроса пароля.
## 2. Как их создать?
```bash
ssh-keygen -t ed25519 -C "student@arzdez.ru"
```
## 3. Создайте пару публичный/приватный ключ ed_25519, где они хранятся?
**Приватный ключ**: ~/.ssh/id_ed25519
**Публичный ключ**: ~/.ssh/id_ed25519.pub
## 4. Скопируйте публичный ключ на ваш сервер, в каком файле он будет храниться?
```bash
ssh-copy-id -i ~/.ssh/id_ed25519.pub -p 234 student@arzdez.ru
```
Публичный ключ будет храниться в `~/.ssh/authorized_keys` на сервере.
## 5. Попробуйте подключиться к серверу, у вас запросили пароль?
Не запросили.

![](https://github.com/LunisLinus/alt_linux_sonya/blob/sonya_tasks/ssh/Tasks/SSH/images/Screenshot%202024-11-22%20221242.png)
## 6. Запретите подключение с паролем для всех пользователей, оставьте только с помощью ключа.
```bash
vim /etc/openssh/sshd_config
```
Нужно произвести изменения в строке, которая начинается с PubkeyAuthentication и в строке, которая начинается с PasswordAuthentication:
```ini
PubkeyAuthentication yes
```
```ini
PasswordAuthentication no
```
```bash
systemctl restart sshd
```

